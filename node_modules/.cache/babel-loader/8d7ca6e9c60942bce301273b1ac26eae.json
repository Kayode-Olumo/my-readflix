{"ast":null,"code":"import _objectSpread from \"/Users/kayodeolumo/Desktop/readflix/node_modules/@babel/runtime/helpers/esm/objectSpread2\";\nvar _jsxFileName = \"/Users/kayodeolumo/Desktop/readflix/src/providers/index.js\";\nimport React, { Component } from 'react';\nexport const Context = React.createContext();\nexport default class Index extends Component {\n  constructor() {\n    super();\n    this.state = {\n      allBooks: [],\n      currentlyReading: [],\n      wantToRead: [],\n      read: [],\n      updateAllBooks: allBooks => {\n        //returns a new array if content matches e.g. currentlyReading\n        const currentlyReading = allBooks.filter(book => book.shelf === 'currentlyReading');\n        const wantToRead = allBooks.filter(book => book.shelf === 'wantToRead');\n        const read = allBooks.filter(book => book.shelf === 'read');\n        console.log(allBooks);\n        console.log(allBooks, currentlyReading, wantToRead, read);\n        this.setState({\n          allBooks,\n          currentlyReading,\n          wantToRead,\n          read\n        });\n      },\n      changeCategory: (book, shelf, newCategory) => {\n        //moves book from one shelf to another\n        console.log(book, shelf);\n        const books = this.state.books;\n        const newBooks = books.map(allBooks => {\n          const bookId = newCategory[shelf].find(bookID => bookID === allBooks.id);\n\n          if (bookId) {\n            allBooks.shelf = shelf;\n          }\n\n          return allBooks;\n        });\n      }\n    };\n  }\n\n  render() {\n    return React.createElement(Context.Provider, {\n      value: _objectSpread({}, this.state),\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 43\n      },\n      __self: this\n    }, this.props.children);\n  }\n\n}","map":{"version":3,"sources":["/Users/kayodeolumo/Desktop/readflix/src/providers/index.js"],"names":["React","Component","Context","createContext","Index","constructor","state","allBooks","currentlyReading","wantToRead","read","updateAllBooks","filter","book","shelf","console","log","setState","changeCategory","newCategory","books","newBooks","map","bookId","find","bookID","id","render","props","children"],"mappings":";;AAAA,OAAOA,KAAP,IAAgBC,SAAhB,QAAiC,OAAjC;AAEA,OAAO,MAAMC,OAAO,GAAGF,KAAK,CAACG,aAAN,EAAhB;AAEP,eAAe,MAAMC,KAAN,SAAoBH,SAApB,CAA6B;AACxCI,EAAAA,WAAW,GAAE;AACT;AACA,SAAKC,KAAL,GAAa;AACLC,MAAAA,QAAQ,EAAE,EADL;AAELC,MAAAA,gBAAgB,EAAE,EAFb;AAGLC,MAAAA,UAAU,EAAE,EAHP;AAILC,MAAAA,IAAI,EAAE,EAJD;AAKDC,MAAAA,cAAc,EAAGJ,QAAD,IAAc;AAC1B;AACA,cAAMC,gBAAgB,GAAGD,QAAQ,CAACK,MAAT,CAAgBC,IAAI,IAAIA,IAAI,CAACC,KAAL,KAAe,kBAAvC,CAAzB;AACA,cAAML,UAAU,GAAGF,QAAQ,CAACK,MAAT,CAAgBC,IAAI,IAAIA,IAAI,CAACC,KAAL,KAAe,YAAvC,CAAnB;AACA,cAAMJ,IAAI,GAAGH,QAAQ,CAACK,MAAT,CAAgBC,IAAI,IAAIA,IAAI,CAACC,KAAL,KAAe,MAAvC,CAAb;AACAC,QAAAA,OAAO,CAACC,GAAR,CAAYT,QAAZ;AACAQ,QAAAA,OAAO,CAACC,GAAR,CAAYT,QAAZ,EAAqBC,gBAArB,EAAsCC,UAAtC,EAAiDC,IAAjD;AAEA,aAAKO,QAAL,CAAc;AAACV,UAAAA,QAAD;AAAWC,UAAAA,gBAAX;AAA6BC,UAAAA,UAA7B;AAAyCC,UAAAA;AAAzC,SAAd;AACH,OAdA;AAgBDQ,MAAAA,cAAc,EAAE,CAACL,IAAD,EAAOC,KAAP,EAAcK,WAAd,KAA8B;AAC1C;AACAJ,QAAAA,OAAO,CAACC,GAAR,CAAYH,IAAZ,EAAkBC,KAAlB;AAF0C,cAGnCM,KAHmC,GAG1B,KAAKd,KAHqB,CAGnCc,KAHmC;AAI1C,cAAMC,QAAQ,GAAGD,KAAK,CAACE,GAAN,CAAUf,QAAQ,IAAI;AACnC,gBAAMgB,MAAM,GAAGJ,WAAW,CAACL,KAAD,CAAX,CAAmBU,IAAnB,CACXC,MAAM,IAAIA,MAAM,KAAKlB,QAAQ,CAACmB,EADnB,CAAf;;AAGA,cAAGH,MAAH,EAAU;AACNhB,YAAAA,QAAQ,CAACO,KAAT,GAAiBA,KAAjB;AACH;;AACD,iBAAOP,QAAP;AACH,SARgB,CAAjB;AASH;AA7BA,KAAb;AA+BC;;AAELoB,EAAAA,MAAM,GAAE;AACJ,WACA,oBAAC,OAAD,CAAS,QAAT;AAAkB,MAAA,KAAK,oBAAM,KAAKrB,KAAX,CAAvB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACK,KAAKsB,KAAL,CAAWC,QADhB,CADA;AAKH;;AA1CuC","sourcesContent":["import React, { Component } from 'react';\n\nexport const Context = React.createContext();\n\nexport default class Index extends Component{\n    constructor(){\n        super()\n        this.state = {\n                allBooks: [],\n                currentlyReading: [],\n                wantToRead: [],\n                read: [],\n                    updateAllBooks: (allBooks) => {\n                        //returns a new array if content matches e.g. currentlyReading\n                        const currentlyReading = allBooks.filter(book => book.shelf === 'currentlyReading');\n                        const wantToRead = allBooks.filter(book => book.shelf === 'wantToRead');\n                        const read = allBooks.filter(book => book.shelf === 'read');\n                        console.log(allBooks)\n                        console.log(allBooks,currentlyReading,wantToRead,read)\n\n                        this.setState({allBooks, currentlyReading, wantToRead, read})\n                    },\n\n                    changeCategory: (book, shelf, newCategory) => {\n                        //moves book from one shelf to another\n                        console.log(book, shelf )\n                        const {books} = this.state;\n                        const newBooks = books.map(allBooks => {\n                            const bookId = newCategory[shelf].find(\n                                bookID => bookID === allBooks.id\n                            );\n                            if(bookId){\n                                allBooks.shelf = shelf;\n                            }\n                            return allBooks;\n                        }) \n                    }\n            }\n        }\n\n    render(){\n        return(\n        <Context.Provider value={{...this.state}}>\n            {this.props.children}\n        </Context.Provider>\n        );\n    }\n}"]},"metadata":{},"sourceType":"module"}